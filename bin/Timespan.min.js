(function(){"use strict";function a(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])}function b(){return this instanceof b?(0!==arguments.length?"number"==typeof arguments[0]?this.span=arguments[0]:arguments[0]instanceof b&&(this.span=arguments[0].span):this.span=0,this):0===arguments.length?new b:new b(arguments[0])}var c=this;a(b.prototype,{time:{millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5},addMillisecond:function(a){return this.span+=a*this.time.millisecond,this},addSecond:function(a){return this.span+=a*this.time.second,this},addMinute:function(a){return this.span+=a*this.time.minute,this},addHour:function(a){return this.span+=a*this.time.hour,this},addDay:function(a){return this.span+=a*this.time.day,this},addToDate:function(a){return new Date(a.getTime()+this.span)},toString:function(){var a=this.span,b="",c=[],d=["day","hour","minute","second","millisecond"];for(var e in this.time)c.push(this.time[e]);c.reverse();for(var f=0;f<c.length;f++)if(a/c[f]>=1){var g=parseInt(a/c[f],10);b+=g+" "+(1===g?d[f]+" ":d[f]+"s "),a%=c[f]}return b.trimRight()}}),a(Date.prototype,{addTimespan:function(a){return new Date(this.getTime()+a.span)}}),a(this,{setTimeout:function(a,c){return c instanceof b?this.setTimeout(a,c.span):this.setTimeout(a,c)}}),"undefined"!=typeof exports?module.exports=exports=b:c.Timespan=b}).call(this);